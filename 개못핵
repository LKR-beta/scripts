local player = game.Players.LocalPlayer
local targetPlayerName = "gihuy10"
local targetCharacter = nil
local distanceThreshold = 10 -- 거리 임계값

-- 거리 확인 및 킥 처리 함수
local function monitorDistance()
    while true do
        -- 대상 캐릭터가 존재하는지 확인
        local targetPlayer = game.Players:FindFirstChild(targetPlayerName)
        if targetPlayer and targetPlayer.Character then
            targetCharacter = targetPlayer.Character
            local myCharacter = player.Character or player.CharacterAdded:Wait()
            local myHumanoidRootPart = myCharacter:FindFirstChild("HumanoidRootPart")
            local targetHumanoidRootPart = targetCharacter:FindFirstChild("HumanoidRootPart")

            -- 거리 계산 및 확인
            if myHumanoidRootPart and targetHumanoidRootPart then
                local distance = (myHumanoidRootPart.Position - targetHumanoidRootPart.Position).Magnitude
                if distance < distanceThreshold then
                    -- 메시지 전송 후 킥
                    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("헤응... lkr 주인니임..♡", "All")
                    player:Kick("You kicked! by lkr")
                    break
                end
            end
        end
        wait(0.5) -- 0.5초 간격으로 확인
    end
end

-- 캐릭터가 없을 경우 대기
player.CharacterAdded:Connect(function()
    task.wait(1) -- 캐릭터가 완전히 로드될 시간을 약간 대기
    monitorDistance()
end)

-- 최초 실행
if player.Character then
    monitorDistance()
end
